# Forgejo Git + Container Registry Stack (ADR-0022: self-contained stack)
# Store these files at /mnt/apps01/secrets/forgejo/ on the host (sourced from 1Password, tag: stack:forgejo)
#
# NOTE: This file documents configuration for TWO separate env files:
#   1. postgres.env â€” sourced by the forgejo-db service (database credentials)
#   2. compose.yaml uses environment: keys directly for Forgejo configuration
# In 1Password, create ONE separate item (tagged "stack:forgejo"):
#   - "postgres.env" (for database credentials)

# postgres.env - database credentials
# Create a separate file at /mnt/apps01/secrets/forgejo/postgres.env with:
POSTGRES_USER=forgejo
POSTGRES_PASSWORD=your-secure-postgres-password-here

# Forgejo web configuration (set in Komodo environment variables)
ROOT_URL=https://git.in.hypyr.space
DOMAIN=git.in.hypyr.space
SSH_PORT=3022

# Container registry configuration
CONTAINER_REGISTRY_ENABLED=true
CONTAINER_REGISTRY_REALM_URI=https://git.in.hypyr.space

# Cloudflare DNS challenge token (for Caddy reverse proxy)
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token-here
