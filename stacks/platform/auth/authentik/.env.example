# Authentik stack environment variables (ADR-0022: self-contained stack)
# Store these files at /mnt/apps01/secrets/authentik/ on the host (sourced from 1Password, tag: stack:authentik)

# authentik.env - main application configuration
AUTHENTIK_SECRET_KEY=your-secret-key-here-minimum-50-chars
AUTHENTIK_BOOTSTRAP_EMAIL=admin@example.com
AUTHENTIK_BOOTSTRAP_PASSWORD=your-bootstrap-password

# Database connection (must align with postgres.env)
AUTHENTIK_POSTGRESQL__HOST=postgresql
AUTHENTIK_POSTGRESQL__NAME=authentik
AUTHENTIK_POSTGRESQL__USER=authentik
AUTHENTIK_POSTGRESQL__PASSWORD=your-postgres-password

# Redis connection
AUTHENTIK_REDIS__HOST=redis

# Cookie and host configuration
AUTHENTIK_COOKIE_DOMAIN=.in.hypyr.space
AUTHENTIK_HOST=https://auth.in.hypyr.space

# Privacy settings
AUTHENTIK_DISABLE_STARTUP_ANALYTICS=true
AUTHENTIK_ERROR_REPORTING__ENABLED=false

# Optional email configuration
# AUTHENTIK_EMAIL__HOST=smtp.example.com
# AUTHENTIK_EMAIL__PORT=587
# AUTHENTIK_EMAIL__USERNAME=smtp-user
# AUTHENTIK_EMAIL__PASSWORD=smtp-password
# AUTHENTIK_EMAIL__USE_TLS=true
# AUTHENTIK_EMAIL__FROM=auth@example.com

# postgres.env - PostgreSQL configuration
POSTGRES_DB=authentik
POSTGRES_USER=authentik
POSTGRES_PASSWORD=your-postgres-password

# Host-level variable used by Caddy for DNS-01 challenges
# CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
