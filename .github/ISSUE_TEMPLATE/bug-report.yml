name: "Bug Report"
description: "Report a bug or issue with existing functionality"
title: "bug: <short description>"
labels: ["bug"]
body:
  - type: markdown
    attributes:
      value: |
        ## Before submitting
        - Check if this is a known issue in existing ADRs or docs
        - Verify the behavior against `contracts/invariants.md`

  - type: dropdown
    id: area
    attributes:
      label: Affected area
      options:
        - Kubernetes / GitOps
        - Docker Swarm / Stacks
        - Talos / Node Management
        - DNS / Networking
        - Secrets Management
        - CI/CD / Gates
        - Documentation
        - Other
    validations:
      required: true

  - type: textarea
    id: description
    attributes:
      label: Bug description
      description: "What's broken? What did you expect to happen?"
      placeholder: |
        **Current behavior:**
        ...
        
        **Expected behavior:**
        ...
    validations:
      required: true

  - type: textarea
    id: reproduction
    attributes:
      label: Steps to reproduce
      description: "How can we reproduce this issue?"
      placeholder: |
        1. Run command X
        2. Check output Y
        3. See error Z
    validations:
      required: true

  - type: textarea
    id: context
    attributes:
      label: Additional context
      description: "Logs, screenshots, relevant configuration, etc."
    validations:
      required: false

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist
      options:
        - label: "I have checked `contracts/invariants.md` for expected behavior"
          required: false
        - label: "This does not involve secrets or sensitive data"
          required: true
