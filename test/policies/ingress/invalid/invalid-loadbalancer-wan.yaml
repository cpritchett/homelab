# Test case: LoadBalancer Service with external IP (PROHIBITED)
# Expected: FAIL
# Policy: deny-loadbalancer-external-ips.yaml
# Reason: Direct WAN exposure bypasses Cloudflare Tunnel and Access

apiVersion: v1
kind: Service
metadata:
  name: admin-panel
  namespace: management
spec:
  type: LoadBalancer  # ❌ PROHIBITED: LoadBalancer without approval
  externalIPs:
    - 203.0.113.42  # ❌ PROHIBITED: External IP (WAN exposure)
  selector:
    app: admin-panel
  ports:
  - name: https
    port: 443
    targetPort: 8443
    protocol: TCP
